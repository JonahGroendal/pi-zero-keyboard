(()=>{"use strict";const t=window.remark_config.host||"http://127.0.0.1:8080";function e(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function n({host:t,query:e,height:n,margin:o="-6px",__colors__:i={}}){const s=document.createElement("iframe");return s.src=`${t}/web/iframe.html?${e}`,s.name=JSON.stringify({__colors__:i}),s.setAttribute("width","100%"),s.setAttribute("frameborder","0"),s.setAttribute("allowtransparency","true"),s.setAttribute("scrolling","no"),s.setAttribute("tabindex","0"),s.setAttribute("title","Comments | Remark42"),s.setAttribute("horizontalscrolling","no"),s.setAttribute("verticalscrolling","no"),s.setAttribute("style",`width: 1px !important; min-width: 100% !important; border: none !important; overflow: hidden !important; margin: ${o};`),n&&s.setAttribute("height",n),s}function o(){window.REMARK42=window.REMARK42||{},window.REMARK42.createInstance=i,i(window.remark_config),window.dispatchEvent(new Event("REMARK42::ready"))}function i(o){const i=document.getElementById("remark42");if(!i)throw new Error("Remark42: Can't find root node.");if(!window.remark_config)throw new Error("Remark42: Config object is undefined.");if(!window.remark_config.site_id)throw new Error("Remark42: Site ID is undefined.");let s=null,r=null;o.url=(o.url||`${window.location.origin}${window.location.pathname}`).split("#")[0];const a=Object.keys(o).filter((t=>"__colors__"!==t)).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(o[t])}`)).join("&"),d=i.firstElementChild||n({host:t,query:a,__colors__:o.__colors__});i.appendChild(d),window.addEventListener("message",m),window.addEventListener("hashchange",u),document.addEventListener("click",p);const c=document.querySelector("title");c&&(r=new MutationObserver((t=>w(t[0].target.textContent))),r.observe(c,{subtree:!0,characterData:!0,childList:!0}));const l="remark-km423lmfdslkm34",h={node:null,back:null,closeEl:null,iframe:null,style:null,init(e){this.animationStop(),this.style||(this.style=document.createElement("style"),this.style.setAttribute("rel","stylesheet"),this.style.setAttribute("type","text/css"),this.style.innerHTML=`\n        #${l}-node {\n          position: fixed;\n          top: 0;\n          right: 0;\n          bottom: 0;\n          width: 400px;\n          transition: transform 0.4s ease-out;\n          max-width: 100%;\n          transform: translate(400px, 0);\n        }\n        #${l}-node[data-animation] {\n          transform: translate(0, 0);\n        }\n        #${l}-back {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(0,0,0,0.7);\n          opacity: 0;\n          transition: opacity 0.4s ease-out;\n        }\n        #${l}-back[data-animation] {\n          opacity: 1;\n        }\n        #${l}-close {\n          top: 0px;\n          right: 400px;\n          position: absolute;\n          text-align: center;\n          font-size: 25px;\n          cursor: pointer;\n          color: white;\n          border-color: transparent;\n          border-width: 0;\n          padding: 0;\n          margin-right: 4px;\n          background-color: transparent;\n        }\n        @media all and (max-width: 430px) {\n          #${l}-close {\n            right: 0px;\n            font-size: 20px;\n            color: black;\n          }\n        }\n      `),this.node||(this.node=document.createElement("div"),this.node.id=`${l}-node`),this.back||(this.back=document.createElement("div"),this.back.id=`${l}-back`,this.back.onclick=()=>this.close()),this.closeEl||(this.closeEl=document.createElement("button"),this.closeEl.id=`${l}-close`,this.closeEl.innerHTML="&#10006;",this.closeEl.onclick=()=>this.close());const o=`${a}&page=user-info&&id=${e.id}&name=${e.name}&picture=${e.picture||""}&isDefaultPicture=${e.isDefaultPicture||0}`,i=n({host:t,query:o,height:"100%",margin:"0"});this.node.appendChild(i),this.iframe=i,this.node.appendChild(this.closeEl),document.body.appendChild(this.style),document.body.appendChild(this.back),document.body.appendChild(this.node),document.addEventListener("keydown",this.onKeyDown),s=window.setTimeout((()=>{this.back.setAttribute("data-animation",""),this.node.setAttribute("data-animation",""),i.focus()}),400)},close(){this.node&&(this.iframe&&this.node.removeChild(this.iframe),this.onAnimationClose(),this.node.removeAttribute("data-animation")),this.back&&this.back.removeAttribute("data-animation"),document.removeEventListener("keydown",this.onKeyDown)},delay:null,events:["","webkit","moz","MS","o"].map((t=>t?`${t}TransitionEnd`:"transitionend")),onAnimationClose(){const t=this.node;this.node&&(this.delay=window.setTimeout(this.animationStop,1e3),this.events.forEach((e=>t.addEventListener(e,this.animationStop,!1))))},onKeyDown(t){27===t.keyCode&&h.close()},animationStop(){const t=h;if(t.node)return t.delay&&(clearTimeout(t.delay),t.delay=null),t.events.forEach((e=>t.node.removeEventListener(e,t.animationStop,!1))),t.remove()},remove(){const t=h;e(t.node),e(t.back),e(t.style)}};function m(t){try{const e="string"==typeof t.data?JSON.parse(t.data):t.data;e.remarkIframeHeight&&(d.style.height=`${e.remarkIframeHeight}px`),e.scrollTo&&window.scrollTo(window.pageXOffset,e.scrollTo+d.getBoundingClientRect().top+window.pageYOffset),Object.prototype.hasOwnProperty.call(e,"isUserInfoShown")&&(e.isUserInfoShown?h.init(e.user||{}):h.close()),e.inited&&(u(),w(document.title))}catch(t){}}function u(t){const e=t?`#${t.newURL.split("#")[1]}`:window.location.hash;0===e.indexOf("#remark42__comment-")&&(t&&t.preventDefault(),d.contentWindow.postMessage(JSON.stringify({hash:e}),"*"))}function w(t){d.contentWindow&&d.contentWindow.postMessage(JSON.stringify({title:t}),"*")}function p(t){d.contentWindow&&!d.contains(t.target)&&d.contentWindow.postMessage(JSON.stringify({clickOutside:!0}),"*")}function f(t){d.contentWindow&&d.contentWindow.postMessage(JSON.stringify({theme:t}),"*")}function g(){s&&clearTimeout(s),window.removeEventListener("message",m),window.removeEventListener("hashchange",u),document.removeEventListener("click",p),r&&(r.disconnect(),r=null),d.remove()}return window.REMARK42.changeTheme=f,window.REMARK42.destroy=()=>{g(),delete window.REMARK42.changeTheme,delete window.REMARK42.destroy},{changeTheme:f,destroy:g}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o()})();
//# sourceMappingURL=embed.js.map